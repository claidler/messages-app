"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.messageRouter = void 0;

var _express = require("express");

var _multer = _interopRequireDefault(require("multer"));

var _sessionCheck = require("../middleware/sessionCheck");

var _messageController = _interopRequireDefault(require("../controllers/messageController"));

var messageRouter = (0, _express.Router)();
exports.messageRouter = messageRouter;
var upload = (0, _multer["default"])();
messageRouter.get('/messages', [_sessionCheck.sessionCheck], _messageController["default"].getMessages);
messageRouter.post('/message', [upload.none(), _sessionCheck.sessionCheck], _messageController["default"].createMessage);
messageRouter.patch('/message/:id', [upload.none(), _sessionCheck.sessionCheck], _messageController["default"].updateMessage);
messageRouter["delete"]('/message/:id', [_sessionCheck.sessionCheck], _messageController["default"].deleteMessage);
var _default = messageRouter;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yb3V0ZXMvbWVzc2FnZVJvdXRlci50cyJdLCJuYW1lcyI6WyJtZXNzYWdlUm91dGVyIiwidXBsb2FkIiwiZ2V0Iiwic2Vzc2lvbkNoZWNrIiwiTWVzc2FnZUNvbnRyb2xsZXIiLCJnZXRNZXNzYWdlcyIsInBvc3QiLCJub25lIiwiY3JlYXRlTWVzc2FnZSIsInBhdGNoIiwidXBkYXRlTWVzc2FnZSIsImRlbGV0ZU1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVPLElBQU1BLGFBQWEsR0FBRyxzQkFBdEI7O0FBQ1AsSUFBTUMsTUFBTSxHQUFHLHlCQUFmO0FBRUFELGFBQWEsQ0FBQ0UsR0FBZCxDQUFrQixXQUFsQixFQUErQixDQUFDQywwQkFBRCxDQUEvQixFQUErQ0MsOEJBQWtCQyxXQUFqRTtBQUNBTCxhQUFhLENBQUNNLElBQWQsQ0FDQyxVQURELEVBRUMsQ0FBQ0wsTUFBTSxDQUFDTSxJQUFQLEVBQUQsRUFBZ0JKLDBCQUFoQixDQUZELEVBR0NDLDhCQUFrQkksYUFIbkI7QUFLQVIsYUFBYSxDQUFDUyxLQUFkLENBQ0MsY0FERCxFQUVDLENBQUNSLE1BQU0sQ0FBQ00sSUFBUCxFQUFELEVBQWdCSiwwQkFBaEIsQ0FGRCxFQUdDQyw4QkFBa0JNLGFBSG5CO0FBS0FWLGFBQWEsVUFBYixDQUNDLGNBREQsRUFFQyxDQUFDRywwQkFBRCxDQUZELEVBR0NDLDhCQUFrQk8sYUFIbkI7ZUFNZVgsYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xuaW1wb3J0IHsgc2Vzc2lvbkNoZWNrIH0gZnJvbSAnLi4vbWlkZGxld2FyZS9zZXNzaW9uQ2hlY2snO1xuaW1wb3J0IE1lc3NhZ2VDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL21lc3NhZ2VDb250cm9sbGVyJztcblxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VSb3V0ZXIgPSBSb3V0ZXIoKTtcbmNvbnN0IHVwbG9hZCA9IG11bHRlcigpO1xuXG5tZXNzYWdlUm91dGVyLmdldCgnL21lc3NhZ2VzJywgW3Nlc3Npb25DaGVja10sIE1lc3NhZ2VDb250cm9sbGVyLmdldE1lc3NhZ2VzKTtcbm1lc3NhZ2VSb3V0ZXIucG9zdChcblx0Jy9tZXNzYWdlJyxcblx0W3VwbG9hZC5ub25lKCksIHNlc3Npb25DaGVja10sXG5cdE1lc3NhZ2VDb250cm9sbGVyLmNyZWF0ZU1lc3NhZ2Vcbik7XG5tZXNzYWdlUm91dGVyLnBhdGNoKFxuXHQnL21lc3NhZ2UvOmlkJyxcblx0W3VwbG9hZC5ub25lKCksIHNlc3Npb25DaGVja10sXG5cdE1lc3NhZ2VDb250cm9sbGVyLnVwZGF0ZU1lc3NhZ2Vcbik7XG5tZXNzYWdlUm91dGVyLmRlbGV0ZShcblx0Jy9tZXNzYWdlLzppZCcsXG5cdFtzZXNzaW9uQ2hlY2tdLFxuXHRNZXNzYWdlQ29udHJvbGxlci5kZWxldGVNZXNzYWdlXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBtZXNzYWdlUm91dGVyO1xuIl19